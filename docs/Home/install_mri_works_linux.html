<!DOCTYPE html>

<html>
<head>
	<meta charset="utf-8"/>
	<meta name = "author" content = "Olivier MONTIGON">
	<meta name = "description"	content = "mri_works">
	<title>mri_works (IRMaGe)</title>
	<link rel="stylesheet" media="screen" type="text/css" href="../styles.css">
	<script src="../datemodif.js"></script>
	<script src="../buttontop.js"></script>
</head>
  <body> 
	<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
	<div><iframe class="sommaire" src = "sommaire.html"></iframe></div>
	<div class="box">
	
	<h1 align="center">Install and Configuration mri_works<br>for Linux (Ubuntu)</h1>
	<br><hr>
		<a class="style1" href="#pre">Prerequisite</a><br>
		<a class="style1" href="#dwnl"> 1 - Download mri_works </a><br>
		<a class="style1" href="#package"> 2 - Installation </a><br>
		<a class="style1" href="#package"> 3 - Configuration </a><br>
		<a class="style1" href="#launch"> 4 - Launch mri_works </a><br>
		<a class="style1" href="#leave"> 5 - To leave the virtual environment </a><br>
		<a class="style1" href="#modules"> 6 - To install other Python modules </a><br>
		<a class="style1" href="#mat_eng"> 7 - About Matlab engine </a><br>
		<hr>

		<h2 id="pre"><font color="blue">Prerequisite</font></h2>
		mri_works is developped under Python 3.6 and under Ubuntu 20.04, so it is strongly recommended to use these versions.<br>
		Python 3.8 or more is not (for the moment) recommended, Python 3.7 should work.<br><br><hr>

		<h2 id="dwnl"><font color="blue">1 - Download mri_works</font></h2>
			<div> 
			- download the release of mri_works from <a href="https://github.com/montigno/mri_works/archive/master.zip" target="_blank">the github homepage</a> to the 'Download' repertory<br>
			- decompress the downloaded file <br>
			- go to the unzipped directory where the setup.py file is located  <br>
			<table><tbody><tr><td><pre class="console" style="width:500px;">cd ~/Download/mri_works-master</pre></td><td>(go to the unzipped directory)</td></tr></tbody></table>
			</div><br><hr>

		<h2 id="package"><font color="blue">2 - Installation</font></h2>
			<div>
			<table><tbody><tr><td><pre class="console" style="width:500px;">python3 setup.py</pre></td><td>(install venv and create virtual repertory '~/Apps/mri_works_env/')</td></tr></tbody></table>
			<table><tbody><tr><td><pre class="console" style="width:500px;">source ~/.bashrc</pre></td><td>(reload .bashrc)</td></tr></tbody></table>
			<table><tbody><tr><td><pre class="console" style="width:500px;">mri_works_update</pre></td><td>(install packages in the virtual repertory)</td></tr></tbody></table>	
			</div><hr>
		
		<h2 id="config"><font color="blue">3 - Configuration</font></h2>
			<div>
			<pre class="console" style="width:500px;">cd ~</pre>
			<pre class="console" style="width:500px;">sudo nano .bashrc</pre>
			- check that you have these lines (otherwise add them):
			<pre class="bashrc" style="width:900px;">#mri_works<br>cmd_mw="source ~/Apps/mri_works_venv/bin/activate; cd ~/Apps/mri_works_venv/mri><br>cmd_mw_update="source ~/Apps/mri_works_venv/bin/activate; cd ~/Apps/mri_works_v>			<br>aliasmri_works=$cmd_mw<br>alias mri_works_update=$cmd_mw_update</pre>
			- to save<br>
			- type: 
			<pre class="console" style="width:500px;">source .bashrc</pre>
			</div><hr>
		
		<h2 id="launch"><font color="blue">4 - Launch mri_works</font></h2>
			<div>
			- type everywhere:
       		<pre class="console" style="width:500px;">mri_works</pre>
			</div><hr>
		
		<h2 id="leave"><font color="blue">5 - To leave the virtual environment</font></h2>
			<div>
			- When you close mri_works, the virtual environment can sometimes stay active, to stop it, type : 
       		<pre class="console" style="width:500px;">deactivate</pre>
			</div><hr>
		
		<h2 id="modules"><font color="blue">6 - To install other Python modules</font></h2>
			<div>
			The installation of Python modules must be done in the virtual environment.
			<table><tbody><tr><td><pre class="console" style="width:500px;">cd ~/Apps/mri_works_env</pre></td><td>(go to the new virtual directory)</td></tr></tbody></table>
			<table><tbody><tr><td><pre class="console" style="width:500px;">source bin/activate</pre></td><td>(activate the virtual machine)</td></tr></tbody></table>
			<table><tbody><tr><td><pre class="console" style="width:500px;">pip3 install <i> your package </i></pre></td><td>(install your package/module)</td></tr></tbody></table>
			<table><tbody><tr><td><pre class="console" style="width:500px;">deactivate</pre></td><td>(leave the virtual environnement)</td></tr></tbody></table>
			</div><hr>		
		
		<h2 id="mat_eng"><font color="blue">7 - About Matlab engine</font></h2>
			<div>
			- the Matlab engine install must be done in the virtual environment :
       		<pre class="console" style="width:500px;">cd ~/Apps/mri_works_env</pre>
       		<pre class="console" style="width:500px;">source bin/activate</pre>
			- go to the directory where the setup.py file  is located : 
       		<pre class="console" style="width:500px;">cd /usr/local/MATLAB/R2020a/extern/engines/python</pre>
			- launch the setup : 
      		<pre class="console" style="width:500px;">python3 setup.py build --build-base ~/Apps/mri_works_env/build install</pre>
      		<pre class="console" style="width:500px;">exit</pre><br>
			</div><hr>

    </div>
  </body>
</html>
