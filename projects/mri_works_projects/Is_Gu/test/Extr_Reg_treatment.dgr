[diagram]
constant=[A2] value=['Choose Nifti file Diffusion'] format=[str] label=[title] RectF=[(-926.5913333343831, 445.0942601934761, 201.0, 33.0)]
constant=[A1] value=['Choose Nifti file T1_Flash'] format=[str] label=[title] RectF=[(-926.4247452814666, -101.43159937695735, 198.0, 33.0)]
constant=[A0] value=['*.nii'] format=[str] label=[extension] RectF=[(-819.3445786500264, 155.1815755188376, 53.0, 33.0)]
constant=[A3] value=['SIGMA_Anatomical_Brain_Atlas_Labels.txt'] format=[str] label=[fileName] RectF=[(-162.61552379763208, 228.04273469342814, 314.0, 33.0)]
link=[N13] node=[U3:path_list#Node#U2:other_files]
link=[N12] node=[M2:out_label_registred#Node#U3:in_path_0]
link=[N11] node=[M2:out_template_registred#Node#U3:in_path]
link=[N10] node=[M1:out_label_registred#Node#U2:atlas_label]
link=[N9] node=[M1:out_template_registred#Node#U2:atlas_template]
link=[N8] node=[U0:filePath#Node#U2:file_in]
link=[N14] node=[U0:filePath#Node#M2:reference_nifti]
link=[N6] node=[A2:#Node#U1:title]
link=[N5] node=[A0:#Node#U1:extension]
link=[N4] node=[U1:filePath#Node#M2:Diffusion_nifti]
link=[N3] node=[M0:output_file#Node#M1:image_fixed]
link=[N2] node=[A1:#Node#U0:title]
link=[N1] node=[A0:#Node#U0:extension]
link=[N0] node=[U0:filePath#Node#M0:input_nifti]
link=[N7] node=[U4:projet_path#Node#U5:inPath]
link=[N15] node=[U5:directory#Node#U6:inPath]
link=[N16] node=[A3:#Node#U6:fileName]
link=[N17] node=[U6:outFile#Node#U2:label_txt]
block=[U3] category=[Tools.PathManipulation] class=[build_list_path_dyn] valInputs=[(['in_path', 'in_path_0'], ['Node(N11)', 'Node(N12)'], ['path_list'], ['list_path'])] RectF=[(45.421772933096804, 335.7506076176471, 179.40609492955892, 154.04891487695983)]
block=[U2] category=[ImageJ.ImageJ_analyze] class=[Atlas_reg] valInputs=[(['file_in', 'atlas_template', 'atlas_label', 'label_txt', 'other_files'], ['Node(N8)', 'Node(N9)', 'Node(N10)', 'Node(N17)', 'Node(N13)'], [], [])] RectF=[(575.7830878495719, -188.57102227335542, 231.49610578303475, 441.3248099086946)]
block=[U1] category=[File_IO.Dialog_files_directories] class=[Choose_file] valInputs=[(['fileDefault', 'extension', 'title'], ['path', 'Node(N5)', 'Node(N6)'], ['filePath'], ['path'])] RectF=[(-625.2680768781573, 398.14157761607174, 155.3125, 82.0)]
submod=[M2] nameMod=[IG_Registration_diffusion] valInputs=[(['reference_nifti', 'Diffusion_nifti'], ['Node(N14)', 'Node(N4)'], ['out_template_registred', 'out_label_registred'], ['path', 'path'])] RectF=[(-362.16288975166134, 334.0426923986579, 286.47012634326677, 155.89998758095822)]
submod=[M1] nameMod=[IG_Registration_Atlas] valInputs=[(['image_fixed'], ['Node(N3)'], ['out_template_registred', 'out_label_registred'], ['path', 'path'])] RectF=[(-60.10716842780792, -67.11396912933694, 262.40625, 117.35063171633385)]
block=[U0] category=[File_IO.Dialog_files_directories] class=[Choose_file] valInputs=[(['fileDefault', 'extension', 'title'], ['path', 'Node(N1)', 'Node(N2)'], ['filePath'], ['path'])] RectF=[(-632.042931808111, -149.850153854898, 153.3125, 80.0)]
submod=[M0] nameMod=[IG_N4bias_segmentation] valInputs=[(['input_nifti'], ['Node(N0)'], ['output_file'], ['path'])] RectF=[(-332.13473848413656, -49.756332143071226, 174.140625, 80.0)]
block=[U4] category=[Tools.Os] class=[projet_path] valInputs=[([], [], ['projet_path'], ['path'])] RectF=[(-320.48243009263325, 103.17046840380323, 150.0, 80.0)]
block=[U5] category=[Tools.PathManipulation] class=[separatePath] valInputs=[(['inPath'], ['Node(N7)'], ['directory', 'nameFile', 'extension'], ['path', 'str', 'str'])] RectF=[(-26.521640443645552, 106.54952762082786, 150.0, 80.0)]
block=[U6] category=[Tools.PathManipulation] class=[joinPath] valInputs=[(['inPath', 'fileName'], ['Node(N15)', 'Node(N16)'], ['outFile'], ['path'])] RectF=[(226.84802678492636, 109.26051917427546, 150.0, 80.0)]
comments=[] RectF=[(-593.9596586315246, -270.10227285905995, 927.3512947620579, 10.0)] text=['This pipeline requires 3 files which must be placed in the same project directory :\n    - SIGMA_Anatomical_Brain_Atlas.nii\n    - SIGMA_ExVivo_Brain_Template_Masked.nii\n    - SIGMA_Anatomical_Brain_Atlas_Labels.txt\n ']
[execution]
[]
['U0', 'U1', 'U4', 'ThreadOn', 'M0', 'U5', 'M2', 'ThreadOff', 'ThreadOn', 'U6', 'M1', 'U3', 'ThreadOff', 'U2']
{'U5': ('Tools.PathManipulation', 'separatePath', "(['inPath'], ['U4:projet_path'], ['directory', 'nameFile', 'extension'], ['path', 'str', 'str'])"), 'U4': ('Tools.Os', 'projet_path', "([], [], ['projet_path'], ['path'])"), 'U2': ('ImageJ.ImageJ_analyze', 'Atlas_reg', "(['file_in', 'atlas_template', 'atlas_label', 'label_txt', 'other_files'], ['U0:filePath', 'M1:out_template_registred', 'M1:out_label_registred', 'U6:outFile', 'U3:path_list'], [], [])"), 'U3': ('Tools.PathManipulation', 'build_list_path_dyn', "(['in_path', 'in_path_0'], ['M2:out_template_registred', 'M2:out_label_registred'], ['path_list'], ['list_path'])"), 'U6': ('Tools.PathManipulation', 'joinPath', "(['inPath', 'fileName'], ['U5:directory', 'SIGMA_Anatomical_Brain_Atlas_Labels.txt'], ['outFile'], ['path'])"), 'U0': ('File_IO.Dialog_files_directories', 'Choose_file', "(['fileDefault', 'extension', 'title'], ['path', '*.nii', 'Choose Nifti file T1_Flash'], ['filePath'], ['path'])"), 'U1': ('File_IO.Dialog_files_directories', 'Choose_file', "(['fileDefault', 'extension', 'title'], ['path', '*.nii', 'Choose Nifti file Diffusion'], ['filePath'], ['path'])")}
['U6:outFile', 'A3:', 'U5:directory', 'U4:projet_path', 'U0:filePath', 'A0:', 'A1:', 'M0:output_file', 'U1:filePath', 'A0:', 'A2:', 'U0:filePath', 'U0:filePath', 'M1:out_template_registred', 'M1:out_label_registred', 'M2:out_template_registred', 'M2:out_label_registred', 'U3:path_list']
{'M0': ('IG_N4bias_segmentation', "(['input_nifti'], ['U0:filePath'], ['output_file'], ['path'])"), 'M1': ('IG_Registration_Atlas', "(['image_fixed'], ['M0:output_file'], ['out_template_registred', 'out_label_registred'], ['path', 'path'])"), 'M2': ('IG_Registration_diffusion', "(['reference_nifti', 'Diffusion_nifti'], ['U0:filePath', 'U1:filePath'], ['out_template_registred', 'out_label_registred'], ['path', 'path'])")}
[]
[submod M0]
['C0:input_nifti=U0:filePath']
['U3', 'U2', 'U4', 'U0']
{'U2': ('Nipype.Interfaces_ants_segmentation', 'ants_N4BiasFieldCorrection', "(['input_image', 'save_bias', 'copy_header', 'output_image'], ['C0:input_nifti', False, False, 'U3:newPath'], ['output_image', 'bias_image'], ['path', 'path'])"), 'U3': ('Tools.PathManipulation', 'add_suffixprefix_file', "(['file_path', 'new_str', 'place'], ['C0:input_nifti', '_N4bias', 'suffix'], ['newPath'], ['path'])"), 'U0': ('Irmage.Segmentation', 'Seg_conv3D', "(['file_in', 'file_out_name', 'threshold', 'radius'], ['U2:output_image', 'U4:newPath', 1.0, 8], ['output_file'], ['path'])"), 'U4': ('Tools.PathManipulation', 'add_suffixprefix_file', "(['file_path', 'new_str', 'place'], ['U2:output_image', '_seg', 'suffix'], ['newPath'], ['path'])")}
['U3:newPath', 'A0:', 'C0:input_nifti', 'A2:', 'A3:', 'U2:output_image', 'C0:input_nifti', 'U2:output_image', 'U4:newPath', 'A1:', 'U0:output_file']
{}
['M0:output_file=U0:output_file']
[submod M1]
['C0:image_fixed=M0:output_file']
['U8', 'ThreadOn', 'U4', 'U1', 'U9', 'ThreadOff', 'ThreadOn', 'U10', 'U5', 'U11', 'U2', 'ThreadOff', 'U0', 'ThreadOn', 'U6', 'U3', 'ThreadOff', 'U7', 'U12']
{'U9': ('Tools.PathManipulation', 'separatePath', "(['inPath'], ['U8:projet_path'], ['directory', 'nameFile', 'extension'], ['path', 'str', 'str'])"), 'U8': ('Tools.Os', 'projet_path', "([], [], ['projet_path'], ['path'])"), 'U11': ('Tools.PathManipulation', 'joinPath', "(['inPath', 'fileName'], ['U9:directory', 'SIGMA_Anatomical_Brain_Atlas.nii'], ['outFile'], ['path'])"), 'U10': ('Tools.PathManipulation', 'joinPath', "(['inPath', 'fileName'], ['U9:directory', 'SIGMA_ExVivo_Brain_Template_Masked.nii'], ['outFile'], ['path'])"), 'U5': ('Tools.PathManipulation', 'change_extension', "(['file_path', 'new_extension'], ['U4:newPath', '.mat'], ['newPath'], ['path'])"), 'U4': ('Tools.PathManipulation', 'add_suffixprefix_file', "(['file_path', 'new_str', 'place'], ['C0:image_fixed', '_RegLinLab', 'suffix'], ['newPath'], ['path'])"), 'U3': ('Nipype.Interfaces_fsl_preprocess', 'fsl_FLIRT', "(['in_file', 'reference', 'apply_xfm', 'in_matrix_file', 'interp', 'out_file', 'out_matrix_file', 'output_type'], ['U11:outFile', 'U0:out_file', True, 'U0:out_matrix_file', 'nearestneighbour', 'U4:newPath', 'U5:newPath', 'NIFTI'], ['out_file', 'out_log', 'out_matrix_file'], ['path', 'path', 'path'])"), 'U1': ('Tools.PathManipulation', 'add_suffixprefix_file', "(['file_path', 'new_str', 'place'], ['C0:image_fixed', '_RegLinTemp', 'suffix'], ['newPath'], ['path'])"), 'U2': ('Tools.PathManipulation', 'change_extension', "(['file_path', 'new_extension'], ['U1:newPath', '.mat'], ['newPath'], ['path'])"), 'U0': ('Nipype.Interfaces_fsl_preprocess', 'fsl_FLIRT', "(['in_file', 'reference', 'cost_func', 'interp', 'out_file', 'out_matrix_file', 'output_type'], ['U10:outFile', 'C0:image_fixed', 'normcorr', 'nearestneighbour', 'U1:newPath', 'U2:newPath', 'NIFTI'], ['out_file', 'out_log', 'out_matrix_file'], ['path', 'path', 'path'])"), 'U6': ('Tools.PathManipulation', 'add_suffixprefix_file', "(['file_path', 'new_str', 'place'], ['U0:out_file', '_regNoLin_Template', 'suffix'], ['newPath'], ['path'])"), 'U7': ('Tools.PathManipulation', 'add_suffixprefix_file', "(['file_path', 'new_str', 'place'], ['U3:out_file', '_regNoLin_Label', 'suffix'], ['newPath'], ['path'])"), 'U12': ('Irmage.Registration', 'Non_linear_registration_for_Atlases', "(['image_fixed', 'atlas_template_moved', 'atlas_label_moved', 'output_template_name', 'output_label_name', 'interpolator', 'transform'], ['C0:image_fixed', 'U0:out_file', 'U3:out_file', 'U6:newPath', 'U7:newPath', 'nearestNeighbor', 'SyNOnly'], ['out_template_registred', 'out_label_registred'], ['path', 'path'])")}
['A7:', 'U11:outFile', 'U9:directory', 'A0:', 'U10:outFile', 'U9:directory', 'U8:projet_path', 'A6:', 'U5:newPath', 'A11:', 'U4:newPath', 'A10:', 'U4:newPath', 'A9:', 'U0:out_matrix_file', 'A8:', 'U0:out_file', 'A2:', 'A3:', 'A4:', 'U1:newPath', 'U1:newPath', 'U2:newPath', 'A5:', 'A6:', 'U0:out_file', 'U3:out_file', 'U0:out_file', 'A12:', 'U6:newPath', 'U3:out_file', 'A13:', 'U7:newPath', 'A14:', 'A15:', 'C0:image_fixed', 'C0:image_fixed', 'C0:image_fixed', 'C0:image_fixed', 'U12:out_template_registred', 'U12:out_label_registred']
{}
['M1:out_template_registred=U12:out_template_registred', 'M1:out_label_registred=U12:out_label_registred']
[submod M2]
['C0:reference_nifti=U0:filePath', 'C1:Diffusion_nifti=U1:filePath']
['U14', 'U1', 'ThreadOn', 'U2', 'U13', 'U6', 'ThreadOff', 'ThreadOn', 'U7', 'U16', 'U3', 'ThreadOff', 'ThreadOn', 'U4', 'U8', 'U17', 'ThreadOff', 'U0', 'ThreadOn', 'U5', 'U12', 'ThreadOff', 'ThreadOn', 'U19', 'U10', 'ThreadOff', 'U18', 'F0']
{'U14': ('Tools.PathManipulation', 'separatePath', "(['inPath'], ['C1:Diffusion_nifti'], ['directory', 'nameFile', 'extension'], ['path', 'str', 'str'])"), 'U1': ('Nifti.funcs', 'four_to_three', "(['image_nii_4D', 'out_directory'], ['C1:Diffusion_nifti', 'U14:directory'], ['list_3D_images'], ['list_path'])"), 'U19': ('Tools.PathManipulation', 'ToListPath', "(['in_file'], ['U5:out_file'], ['ListPath'], ['list_path'])"), 'U17': ('Tools.PathManipulation', 'change_extension', "(['file_path', 'new_extension'], ['U16:newPath', '.mat'], ['newPath'], ['path'])"), 'U13': ('Tools.PathManipulation', 'indexListPath', "(['listPath', 'index'], ['U1:list_3D_images', 0], ['outPath'], ['path'])"), 'U16': ('Tools.PathManipulation', 'add_suffixprefix_file', "(['file_path', 'new_str', 'place'], ['U13:outPath', '_RegLinFA', 'suffix'], ['newPath'], ['path'])"), 'U10': ('Tools.PathManipulation', 'add_suffixprefix_file', "(['file_path', 'new_str', 'place'], ['U12:out_file', '_NoLinFA', 'suffix'], ['newPath'], ['path'])"), 'U8': ('Tools.PathManipulation', 'change_extension', "(['file_path', 'new_extension'], ['U7:newPath', '.mat'], ['newPath'], ['path'])"), 'U7': ('Tools.PathManipulation', 'add_suffixprefix_file', "(['file_path', 'new_str', 'place'], ['U6:outPath', '_RegLinMD', 'suffix'], ['newPath'], ['path'])"), 'U5': ('Nipype.Interfaces_fsl_preprocess', 'fsl_FLIRT', "(['in_file', 'reference', 'apply_xfm', 'in_matrix_file', 'interp', 'out_file', 'out_matrix_file', 'output_type'], ['U6:outPath', 'U0:out_file', True, 'U0:out_matrix_file', 'nearestneighbour', 'U7:newPath', 'U8:newPath', 'NIFTI'], ['out_file', 'out_log', 'out_matrix_file'], ['path', 'path', 'path'])"), 'U2': ('Tools.PathManipulation', 'indexListPath', "(['listPath', 'index'], ['U1:list_3D_images', 0], ['outPath'], ['path'])"), 'U3': ('Tools.PathManipulation', 'add_suffixprefix_file', "(['file_path', 'new_str', 'place'], ['U2:outPath', '_RegLinInt', 'suffix'], ['newPath'], ['path'])"), 'U4': ('Tools.PathManipulation', 'change_extension', "(['file_path', 'new_extension'], ['U3:newPath', '.mat'], ['newPath'], ['path'])"), 'U0': ('Nipype.Interfaces_fsl_preprocess', 'fsl_FLIRT', "(['in_file', 'reference', 'cost_func', 'interp', 'out_file', 'out_matrix_file', 'output_type'], ['U2:outPath', 'C0:reference_nifti', 'mutualinfo', 'nearestneighbour', 'U3:newPath', 'U4:newPath', 'NIFTI'], ['out_file', 'out_log', 'out_matrix_file'], ['path', 'path', 'path'])"), 'U6': ('Tools.PathManipulation', 'indexListPath', "(['listPath', 'index'], ['U1:list_3D_images', 1], ['outPath'], ['path'])"), 'U12': ('Nipype.Interfaces_fsl_preprocess', 'fsl_FLIRT', "(['in_file', 'reference', 'apply_xfm', 'in_matrix_file', 'interp', 'out_file', 'out_matrix_file', 'output_type'], ['U13:outPath', 'U0:out_file', True, 'U0:out_matrix_file', 'nearestneighbour', 'U16:newPath', 'U17:newPath', 'NIFTI'], ['out_file', 'out_log', 'out_matrix_file'], ['path', 'path', 'path'])"), 'U18': ('Irmage.Registration', 'Non_linear_registration_multiple_Images', "(['image_fixed', 'image_moved', 'images_apply_transform', 'output_moved_name', 'suffix_transformed_name', 'interpolator', 'transform'], ['C0:reference_nifti', 'U12:out_file', 'U19:ListPath', 'U10:newPath', '_NoLinMD', 'nearestNeighbor', 'SyN'], ['out_image_registred', 'out_image_transformed'], ['path', 'list_path'])")}
['C0:reference_nifti', 'U12:out_file', 'U13:outPath', 'U0:out_file', 'U0:out_matrix_file', 'A10:', 'A11:', 'U16:newPath', 'U17:newPath', 'A3:', 'U16:newPath', 'A1:', 'U1:list_3D_images', 'U13:outPath', 'A0:', 'F0:in0', 'U1:list_3D_images', 'U14:directory', 'C1:Diffusion_nifti', 'C0:reference_nifti', 'A15:', 'A14:', 'U8:newPath', 'A13:', 'U7:newPath', 'U7:newPath', 'A12:', 'U6:outPath', 'A11:', 'U0:out_matrix_file', 'A10:', 'U0:out_file', 'U1:list_3D_images', 'A2:', 'U2:outPath', 'A4:', 'A5:', 'U2:outPath', 'U3:newPath', 'A6:', 'U3:newPath', 'U4:newPath', 'A7:', 'A8:', 'U1:list_3D_images', 'A9:', 'U6:outPath', 'C1:Diffusion_nifti', 'A14:', 'U12:out_file', 'U19:ListPath', 'U5:out_file', 'U10:newPath', 'A16:', 'A17:', 'A18:', 'U18:out_image_registred', 'U18:out_image_transformed']
{}
['M2:out_image_registred=U18:out_image_registred', 'M2:out_image_transformed=U18:out_image_transformed']
